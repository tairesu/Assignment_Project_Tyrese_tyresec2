{% load static %}
{% now "U" as tz %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/fontawesome.min.css">
	<link rel="stylesheet" href="{% static "css/base.css" %}?v={{ tz }}">
	<link rel="stylesheet" href="{% static "css/cards.css" %}?v={{ tz }}">
	<link rel="stylesheet" href="{% static "css/forms.css" %}?v={{ tz }}">
	<link rel="icon" type="image/png" href="{% static "imgs/logo.png" %}">
	<!-- I'll Eventually find the Tailwind Link
	-->
	{% block extra_links %}
	{% endblock %}
	{% block extra_head_scripts %}
	{% endblock %}
	<title>
		{% block title %} 
			TC Digital
		{% endblock %}
	</title>
	<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="min-h-[100vh] bkg-gradient text-white">
	<nav class="@container w-full py-6 px-9 flex justify-between items-center">
		<div class="flex gap-2 items-center text-sm" name="icon-and-navbar-header">
			<img src="{% static 'imgs/logo.png' %}" alt="" class="w-[30px] h-[30px] rounded">
			{% if request.user.is_authenticated %}
				<a href="{% url 'dashboard_view' %}" class="text-white">
					<span>{{ request.user }}</span>
				</a>
			{% else %}
				<a href="{% url 'homepage_view' %}" class="text-white">
					<span >TC Digital</span>
				</a>
			{% endif %}
		</div>
		<div class="md:hidden" >
			<svg xmlns="http://www.w3.org/2000/svg" class="w-[30px] h-[30px] inactivate" id="dropdown-trigger" viewBox="0 0 640 640" onclick="toggleDropdownNav(this)"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M96 160C96 142.3 110.3 128 128 128L512 128C529.7 128 544 142.3 544 160C544 177.7 529.7 192 512 192L128 192C110.3 192 96 177.7 96 160zM96 320C96 302.3 110.3 288 128 288L512 288C529.7 288 544 302.3 544 320C544 337.7 529.7 352 512 352L128 352C110.3 352 96 337.7 96 320zM544 480C544 497.7 529.7 512 512 512L128 512C110.3 512 96 497.7 96 480C96 462.3 110.3 448 128 448L512 448C529.7 448 544 462.3 544 480z"/></svg>
		</div>
		<div class="hidden md:flex text-sm gap-4" name="navbar-links" >
			{% if request.user.is_authenticated %}
	            {% if user.profile %}
	           		<a href="{{ user.profile.get_absolute_url }}">
	            		View Profile
	            	</a>
	            	<a href="{{ user.profile.get_update_url }}">
	            		Edit Profile
	            	</a>
	            {% else %}
	            	<a href="{% url 'profile_create_view' %}">Create Profile</a>
	            {% endif %}
				{% if request.user.is_superuser %}
					<a href="{% url 'dashboard_view' %}">Dashboard</a>
					<a href="{% url 'stats_view' %}">Reports</a>
					<a href="{% url 'api_daily_usage_view' %}">Api Json</a>
					<a href="{% url 'daily_usage_graph_png_view' %}">Api Bar Graph</a>
				{% endif %}
		        <form action="{% url 'logout_view' %}" method="post">
		        	{% csrf_token %}
		        	<input type="submit" value="Logout"/>
		        </form>
	        {% else %}
	        	<a href="{% url 'login_view' %}">Login</a>
	        	<a href="{% url 'signup_view' %}">Create Account</a>
	        {% endif %}

	    </div>
	</nav>
	<div class="w-full py-8 px-6 relative " >
		<!-- Dropdown Nav (hidden on md)-->
		<div id="dropdown-nav" class="  z-[1999] bg-[var(--color-contrast-opaque)] flex flex-col absolute top-0 gap-2 right-9 p-4 border-1 border-[var(--color-main)] rounded-sm md:hidden" style="display:none">
			{% if request.user.is_authenticated %}
				<a href="{% url 'dashboard_view' %}" class="has-icon">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M64 320C64 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320C576 461.4 461.4 576 320 576C178.6 576 64 461.4 64 320zM384 416C384 389.1 367.5 366.1 344 356.7L344 184C344 170.7 333.3 160 320 160C306.7 160 296 170.7 296 184L296 356.7C272.5 366.2 256 389.2 256 416C256 451.3 284.7 480 320 480C355.3 480 384 451.3 384 416zM208 240C225.7 240 240 225.7 240 208C240 190.3 225.7 176 208 176C190.3 176 176 190.3 176 208C176 225.7 190.3 240 208 240zM192 320C192 302.3 177.7 288 160 288C142.3 288 128 302.3 128 320C128 337.7 142.3 352 160 352C177.7 352 192 337.7 192 320zM480 352C497.7 352 512 337.7 512 320C512 302.3 497.7 288 480 288C462.3 288 448 302.3 448 320C448 337.7 462.3 352 480 352zM464 208C464 190.3 449.7 176 432 176C414.3 176 400 190.3 400 208C400 225.7 414.3 240 432 240C449.7 240 464 225.7 464 208z"/></svg>
					Dashboard
				</a>
	            {% if user.profile %}
	           		<a href="{{ user.profile.get_absolute_url }}" class="has-icon">
	            		View my Profile
	            	</a>
	            	<a href="{{ user.profile.get_update_url }}" class="has-icon">
	            		Edit Profile
	            	</a>
	            {% else %}
	            	<a href="{% url 'profile_create_view' %}" class="has-icon">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path fill="var(--color-main)" d="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z"/></svg>

						Create Profile</a>
	            {% endif %}
				
		        <form action="{% url 'logout_view' %}" method="post" class="has-icon">
		        	{% csrf_token %}
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M224 160C241.7 160 256 145.7 256 128C256 110.3 241.7 96 224 96L160 96C107 96 64 139 64 192L64 448C64 501 107 544 160 544L224 544C241.7 544 256 529.7 256 512C256 494.3 241.7 480 224 480L160 480C142.3 480 128 465.7 128 448L128 192C128 174.3 142.3 160 160 160L224 160zM566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L438.6 169.3C426.1 156.8 405.8 156.8 393.3 169.3C380.8 181.8 380.8 202.1 393.3 214.6L466.7 288L256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L466.7 352L393.3 425.4C380.8 437.9 380.8 458.2 393.3 470.7C405.8 483.2 426.1 483.2 438.6 470.7L566.6 342.7z"/></svg>
		        	<input type="submit" value="Logout"/>
		        </form>
	        {% else %}
	        	<a href="{% url 'login_view' %}" class="has-icon">Login</a>
	        	<a href="{% url 'signup_view' %}" class="has-icon">Create Account</a>
	        {% endif %}
			{% if request.user.is_superuser %}
					<p class="text-sm text-[var(--color-main)] mt-2">Admin</p>
					<div class="flex flex-col gap-2 ">
						<a href="{% url 'stats_view' %}" class="has-icon">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M96 160C96 124.7 124.7 96 160 96L480 96C515.3 96 544 124.7 544 160L544 480C544 515.3 515.3 544 480 544L160 544C124.7 544 96 515.3 96 480L96 160zM160 224L160 480L288 480L288 224L160 224zM480 224L352 224L352 480L480 480L480 224z"/></svg>
							Reports</a>
						<a href="{% url 'api_daily_usage_view' %}" class="has-icon">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M392.8 65.2C375.8 60.3 358.1 70.2 353.2 87.2L225.2 535.2C220.3 552.2 230.2 569.9 247.2 574.8C264.2 579.7 281.9 569.8 286.8 552.8L414.8 104.8C419.7 87.8 409.8 70.1 392.8 65.2zM457.4 201.3C444.9 213.8 444.9 234.1 457.4 246.6L530.8 320L457.4 393.4C444.9 405.9 444.9 426.2 457.4 438.7C469.9 451.2 490.2 451.2 502.7 438.7L598.7 342.7C611.2 330.2 611.2 309.9 598.7 297.4L502.7 201.4C490.2 188.9 469.9 188.9 457.4 201.4zM182.7 201.3C170.2 188.8 149.9 188.8 137.4 201.3L41.4 297.3C28.9 309.8 28.9 330.1 41.4 342.6L137.4 438.6C149.9 451.1 170.2 451.1 182.7 438.6C195.2 426.1 195.2 405.8 182.7 393.3L109.3 320L182.6 246.6C195.1 234.1 195.1 213.8 182.6 201.3z"/></svg>
							Api Json</a>
						<a href="{% url 'daily_usage_graph_png_view' %}" class="has-icon">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M256 144C256 117.5 277.5 96 304 96L336 96C362.5 96 384 117.5 384 144L384 496C384 522.5 362.5 544 336 544L304 544C277.5 544 256 522.5 256 496L256 144zM64 336C64 309.5 85.5 288 112 288L144 288C170.5 288 192 309.5 192 336L192 496C192 522.5 170.5 544 144 544L112 544C85.5 544 64 522.5 64 496L64 336zM496 160L528 160C554.5 160 576 181.5 576 208L576 496C576 522.5 554.5 544 528 544L496 544C469.5 544 448 522.5 448 496L448 208C448 181.5 469.5 160 496 160z"/></svg>
							Api Bar Graph</a>
					</div>
				{% endif %}
		</div>
		{% block hero_header %}

		{% endblock %}
	</div>
	<section id="hero" class="flex flex-col justify-center items-center gap-12 md:mb-10 text-center">
        
            <h2 class="text-3xl md:text-5xl">
            	 {% block hero_text %}{% endblock %}
            </h2>
    
    </section>
	<div class="@container md:mt-20 md:w-7/8 lg:w-3/4 m-auto px-8">
		{% block content %}

		{% endblock %}
	</div>
	{% block extra_scripts %}

	{% endblock %}
	<script src="{% static 'js/jquery.js' %}?v={{  tz }}"></script>
	<script src="{% static 'js/dropdownNav.js' %}?v={{  tz }}"></script>
</body>
</html>