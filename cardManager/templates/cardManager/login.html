{% extends 'cardManager/base.html' %}
{% load static %}
{% block opener %}
Login
{% endblock %}
{% block hero_text %}
    {% if request.session.activating_card_design %}
    Login to claim this card
    {% else %}
    We missed you
    {% endif %}
{% endblock %}
{% block hero_header %}
    {% if request.session.activating_card_design %}
        <div class="card flex items-center justify-center rounded-md ">
            <img id="card" class=" object-cover w-[12rem] rounded-md aspect-[8/5]" src="{{ request.session.activating_card_design }}"/>
        </div>
    {% endif %}
    
    
{% endblock %}
{% block content %}
	<form method="post" class="flex m-auto flex-col gap-7 mt-20">
		{% csrf_token %}
		{% if form.non_field_errors %}
			{% for error in form.non_field_errors %}
				<p class="text-danger text-md" >{{ error }}</p>
			{% endfor %}
		{% endif %}
		<div class="flex flex-col gap-1">
	    	<label for="id_username" class="text-bold text-lg">Username</label>
	    	<input 
		    	type="text" 
		    	class="bg-[var(--color-input-bkg)] border-solid border-[1px] border-[var(--color-input-border)] rounded-md p-4" 
		    	placeholder="" 
		    	id="id_username" 
		    	name="username" 
		    	maxlength="{{ form.fields.username.max_length }}" 
		    	{% if form.username.value %} value="{{ form.username.value }}" {% endif %}
		    	{% if form.non_field_errors %} style="border-color:var(--color-danger)" {% endif %}
		    	required
	    	/>
	    	{% if form.username.errors %}
	    		<p class="text-danger text-sm" >{{ form.username.errors }}</p>
	    	{% endif %}
    	</div>
    	<div class="flex flex-col gap-1">
	    	<label for="id_password" class="text-bold text-lg">Password</label>
	    	<input 
		    	type="password" 
		    	class="bg-[var(--color-input-bkg)] border-solid border-[1px] border-[var(--color-input-border)] rounded-md p-4" 
		    	id="id_password" 
		    	name="password" 
		    	maxlength="{{ form.fields.password.max_length }}" 
		    	{% if form.non_field_errors %} style="border-color:var(--color-danger)" {% endif %}
		    	required
	    	/>
	    	{% if form.password.errors %}
	    		<p class="text-danger text-sm" >{{ form.password.errors }}</p>
	    	{% endif %}
    	</div>
    	<a 
    		class="text-center text-md text-[var(--color-main)] mt-8"
    		{% if request.GET.next %} href="{% url 'signup_view' %}?next={{request.GET.next}}" 
    		{% else %} href="{% url 'signup_view' %}"
    		{% endif %} 
    	>
    		I don't have an account
    	</a>
		   
		<input class="bg-[var(--color-main)] rounded-md py-4 mt-6" type="submit" value="Login">
	</form>
{% endblock %}
{% block extra_scripts %}
<script src="{% static 'js/forms.js' %}?v={{ tz }}"></script>
{% endblock %}